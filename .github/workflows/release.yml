name: Create GitHub Release

on:
  push:
    tags:
      - 'v*'
  workflow_dispatch:

jobs:
  release:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Create GitHub Release
      uses: softprops/action-gh-release@v1
      with:
        name: CastPlan MCP ${{ github.ref_name }}
        body: |
          ## 🚀 CastPlan MCP ${{ github.ref_name }}
          
          Universal AI coding assistant with project memory and awareness.
          
          ### 📦 Quick Install
          
          **🔥 Instant setup (uv/uvx - Recommended):**
          ```bash
          uvx castplan-automation init
          ```
          
          **📦 npm (Node.js):**
          ```bash  
          npm install -g @castplan/automation-mcp
          castplan-mcp init
          ```
          
          **🐍 pip (Python):**
          ```bash
          pip install castplan-automation
          castplan-mcp init
          ```
          
          ### ✨ What This Does
          - **Gives your AI memory** - Remembers your project structure, patterns, and decisions
          - **Auto-configures** - Works with Claude, Cursor, VS Code, and all MCP clients
          - **Zero setup** - Detects and configures everything automatically
          - **Universal** - Cross-platform support (Windows, macOS, Linux)
          
          ### 🎯 Key Features
          - **Project-aware AI assistance** - AI understands your specific codebase
          - **Documentation automation** - Keeps docs in sync with code
          - **Smart task management** - AI-powered project planning (BMAD)
          - **Workflow intelligence** - Learns and automates your development patterns
          
          ### 🔗 Links
          - [GitHub Repository](https://github.com/Ghostseller/CastPlan_mcp)
          - [npm Package](https://www.npmjs.com/package/@castplan/automation-mcp) *(Coming Soon)*
          - [PyPI Package](https://pypi.org/project/castplan-automation/) *(Coming Soon)*
          - [Documentation](https://github.com/Ghostseller/CastPlan_mcp#readme)
          
          ### 💡 Why CastPlan MCP?
          
          Stop explaining your project to AI every time. CastPlan MCP gives your AI assistant **persistent memory** of your codebase, so it can provide context-aware help from day one.
          
          **Before:** *"What's your tech stack? Where are your components? What's your architecture?"*
          
          **After:** *"Based on your existing UserCard pattern, here's a ProfileCard that matches your design system..."*
          
        draft: false
        prerelease: false
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}